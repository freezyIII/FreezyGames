from selenium import webdriver
from selenium.webdriver.common.by import By
from selenium.webdriver.support.ui import WebDriverWait
from selenium.webdriver.support import expected_conditions as EC
import time

chrome_options = webdriver.ChromeOptions()
chrome_options.add_argument("--disable-notifications")

driver = webdriver.Chrome(options=chrome_options)

driver.set_window_size(300, 300)

links_to_open = [
    "https://www.clictune.com/klJ3", "https://www.clictune.com/klJ2", "https://www.clictune.com/klJ1", "https://www.clictune.com/klJ0",
    "https://www.clictune.com/klIZ", "https://www.clictune.com/klIY", "https://www.clictune.com/klIX", "https://www.clictune.com/klIW",
    "https://www.clictune.com/klIV", "https://www.clictune.com/klIU", "https://www.clictune.com/klIT", "https://www.clictune.com/klIS",
    "https://www.clictune.com/klIR", "https://www.clictune.com/klIQ", "https://www.clictune.com/klIP", "https://www.clictune.com/klIO",
    "https://www.clictune.com/klIN", "https://www.clictune.com/klIM", "https://www.clictune.com/klIL", "https://www.clictune.com/klIK",
    "https://www.clictune.com/klIJ", "https://www.clictune.com/klII", "https://www.clictune.com/klIH", "https://www.clictune.com/klIG",
    "https://www.clictune.com/klIF", "https://www.clictune.com/klIE", "https://www.clictune.com/klID", "https://www.clictune.com/klIC",
    "https://www.clictune.com/klIB", "https://www.clictune.com/klIA", "https://www.clictune.com/klIz", "https://www.clictune.com/klIy",
    "https://www.clictune.com/klIx", "https://www.clictune.com/klIw", "https://www.clictune.com/klIv", "https://www.clictune.com/klIu",
    "https://www.clictune.com/klIt", "https://www.clictune.com/klIs", "https://www.clictune.com/klIr", "https://www.clictune.com/klIq",
    "https://www.clictune.com/klIp", "https://www.clictune.com/klIo", "https://www.clictune.com/klIn", "https://www.clictune.com/klIm",
    "https://www.clictune.com/klIl", "https://www.clictune.com/klIk", "https://www.clictune.com/klIj", "https://www.clictune.com/klIi",
    "https://www.clictune.com/klIh", "https://www.clictune.com/klIg", "https://www.clictune.com/klIf", "https://www.clictune.com/klIe",
    "https://www.clictune.com/klId", "https://www.clictune.com/klIc", "https://www.clictune.com/klIb", "https://www.clictune.com/klIa",
    "https://www.clictune.com/klI9", "https://www.clictune.com/klI8", "https://www.clictune.com/klI7", "https://www.clictune.com/klI6",
    "https://www.clictune.com/klI5", "https://www.clictune.com/klI4", "https://www.clictune.com/klI3", "https://www.clictune.com/klI2",
    "https://www.clictune.com/klI1", "https://www.clictune.com/klI0", "https://www.clictune.com/klHZ", "https://www.clictune.com/klHY",
    "https://www.clictune.com/klHX", "https://www.clictune.com/klHW", "https://www.clictune.com/klHV", "https://www.clictune.com/klHU",
    "https://www.clictune.com/klHT", "https://www.clictune.com/klHS", "https://www.clictune.com/klHR", "https://www.clictune.com/klHQ",
    "https://www.clictune.com/klHP", "https://www.clictune.com/klHO", "https://www.clictune.com/klHN", "https://www.clictune.com/klHM",
    "https://www.clictune.com/klHL", "https://www.clictune.com/klHK", "https://www.clictune.com/klHJ", "https://www.clictune.com/klHI",
    "https://www.clictune.com/klHH", "https://www.clictune.com/klHG", "https://www.clictune.com/klHF", "https://www.clictune.com/klHE",
    "https://www.clictune.com/klHD", "https://www.clictune.com/klHC", "https://www.clictune.com/klHB", "https://www.clictune.com/klHA",
    "https://www.clictune.com/klHz", "https://www.clictune.com/klHy", "https://www.clictune.com/klHx", "https://www.clictune.com/klHw",
    "https://www.clictune.com/klHv", "https://www.clictune.com/klHu", "https://www.clictune.com/klHt", "https://www.clictune.com/klHs",
    "https://www.clictune.com/klHr", "https://www.clictune.com/klHq", "https://www.clictune.com/klHp", "https://www.clictune.com/klHo",
    "https://www.clictune.com/klHn", "https://www.clictune.com/klHm", "https://www.clictune.com/klHl", "https://www.clictune.com/klHk",
    "https://www.clictune.com/klHj", "https://www.clictune.com/klHi", "https://www.clictune.com/klHh", "https://www.clictune.com/klHg",
    "https://www.clictune.com/klHf", "https://www.clictune.com/klHe", "https://www.clictune.com/klHd", "https://www.clictune.com/klHc",
    "https://www.clictune.com/klHb", "https://www.clictune.com/klHa", "https://www.clictune.com/klH9", "https://www.clictune.com/klH8",
    "https://www.clictune.com/klH7", "https://www.clictune.com/klH6"
]

wait = WebDriverWait(driver, 12)

for link in links_to_open:
    try:
        driver.get(link)
        link_element = wait.until(EC.visibility_of_element_located((By.PARTIAL_LINK_TEXT, "ACCÃ‰DER AU LIEN")))
        link_element.click()

        window_handles = driver.window_handles
        if len(window_handles) > 1:
            driver.switch_to.window(window_handles[-1])
            driver.close()
            driver.switch_to.window(window_handles[0])

        time.sleep(20)

    except Exception as e:
        print(f"Erreur lors de l'ouverture du lien {link}: {e}")

driver.quit()
